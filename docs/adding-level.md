# Как добавить новый уровень

1. Открой файл `src/data/levels.ts` и скопируй один из существующих объектов уровня.
2. Присвой уникальный `id` формата `lvl-0xx-name`, чтобы его легко отследить.
3. Заполни `title` и короткую историю `story` двумя-тремя предложениями.
4. Определи карту: задай размеры `rows` и `cols` (обычно 10×10) и укажи массив `tiles` из строк одинаковой длины.
5. Используй легенду `legend`, чтобы пояснить, какие символы отвечают за игрока (`P`), стены (`#`), монеты (`M`), ключи (`K`) и дверь (`D`).
6. Добавь цели в массив `goals` — 2–3 понятных пункта, формулированных в позитивном стиле.
7. Перечисли доступные команды API в массиве `api`, оставляя только нужные для уровня.
8. В `teaching` перечисли ключевые понятия урока (например, `['циклы for']`).
9. Подготовь стартовый код `starter_code` с комментариями и подсказками, используя многострочную строку с переносами `\n`.
10. Заполни `tests`: добавь проверки `state` для итогового состояния и правила `rule` (например, `no_collision`, `used_if`).
11. Пропиши минимум три подсказки в `hints`, где последняя — почти решение, а предпоследние мягко подводят к шагам.
12. Добавь рабочее `solution`, которое выполняет все цели и проходит тесты.
13. Если уровень вводит новую механику, обнови файл `src/data/friendlyErrors.ts`, чтобы подсказки покрывали возможные ошибки.
14. Запусти `npm run test:levels`, чтобы убедиться, что эталонное решение проходит и новый уровень корректен.
15. Выполни `npm run levels:export` для обновления JSON-версии уровней, если она используется в распространении.
16. Обнови сопроводительную документацию или список достижений, если уровень открывает новый бейдж.

Следуя этим шагам, уровень автоматически появится в списке и будет доступен в интерфейсе без дополнительной настройки.
